/*!
 * Start Bootstrap - Grayscale v3.3.7+1 (http://startbootstrap.com/template-overviews/grayscale)
 * Copyright 2013-2016 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
function collapseNavbar() {
    if ($(".navbar").offset().top > 50) {
        $(".navbar-fixed-top").addClass("top-nav-collapse");
        document.getElementById('navbar-logo').style.visibility = "visible";
    } else {
        $(".navbar-fixed-top").removeClass("top-nav-collapse");
        document.getElementById('navbar-logo').style.visibility = "collapse";
    }
}
$(window).scroll(collapseNavbar);
$(document).ready(collapseNavbar);
$(function () {
    $('a.page-scroll').bind('click', function (event) {
        var $anchor = $(this);
        $('html, body').stop().animate({
            scrollTop: $($anchor.attr('href')).offset().top
        }, 1500, 'easeInOutExpo');
        event.preventDefault();
    });
});
$('.navbar-collapse ul li a').click(function () {
    $(".navbar-collapse").collapse('hide');
});

function multiplyNumbers(p1, p2) {
    return p1 * p2;
}

/* Google Combo Chart */

google.charts.load('current', {
    'packages': ['corechart']
});
google.charts.setOnLoadCallback(drawVisualization);

function drawVisualization() {
    var data = google.visualization.arrayToDataTable([
        ['Date', 'Crypto20', 'Bitcoin', 'Ethereum', 'Ripple'],
        ['01/06/2017', 100, 100, 100, 100],
        ['02/06/2017', 101.668338, 103.35025, 100.6929446, 90.94609135],
        ['03/06/2017', 106.0000678, 104.4632623, 100.962923, 88.28827209],
        ['04/06/2017', 107.6699965, 104.316245, 110.3896688, 89.7367656],
        ['05/06/2017', 111.9890166, 111.584049, 111.7980562, 88.11534],
        ['06/06/2017', 122.7935257, 118.9095802, 119.0019798, 85.28159157],
        ['07/06/2017', 119.8184172, 113.4674485, 116.1222102, 83.85347827],
        ['08/06/2017', 121.215452, 116.518265, 117.7420806, 86.81909866],
        ['09/06/2017', 123.1684414, 117.2737013, 126.7728582, 85.72246349],
        ['10/06/2017', 128.2686813, 122.4193066, 151.9393449, 78.18628112],
        ['11/06/2017', 127.4935951, 122.8512218, 153.262239, 81.74832238],
        ['12/06/2017', 115.8728989, 110.4552552, 180.6560475, 76.11529205],
        ['13/06/2017', 110.5388355, 112.8386797, 178.8786897, 79.76844484],
        ['14/06/2017', 101.5736387, 104.0903201, 161.5595752, 83.45306707],
        ['15/06/2017', 98.62243855, 102.3547685, 162.8554716, 77.70434908],
        ['16/06/2017', 101.3302448, 104.5965746, 166.5901728, 78.54413365],
        ['17/06/2017', 106.174255, 110.2995166, 170.7208423, 80.42720518],
        ['18/06/2017', 103.1792906, 105.8312707, 167.1436285, 85.29717644],
        ['19/06/2017', 102.5955484, 107.5468877, 166.5136789, 88.73423905],
        ['20/06/2017', 107.2912489, 113.0367792, 161.537077, 97.23368609],
        ['21/06/2017', 107.4987233, 111.6791534, 151.5793737, 88.82355233],
        ['22/06/2017', 110.4233199, 112.3565128, 151.3543916, 89.26772104],
        ['23/06/2017', 112.6406004, 113.99696, 153.7706983, 95.90028083],
        ['24/06/2017', 105.9706494, 108.3409472, 145.6533477, 93.24246157],
        ['25/06/2017', 104.0512557, 107.538997, 136.4515839, 89.44005371],
        ['26/06/2017', 101.0626752, 102.9307939, 122.7006839, 83.10570436],
        ['27/06/2017', 106.0373212, 106.0040367, 131.8799496, 82.81139014],
        ['28/06/2017', 107.6707318, 106.9318238, 147.5566955, 84.05488271],
        ['29/06/2017', 102.8749986, 105.4587438, 136.2850972, 79.54905786],
        ['30/06/2017', 102.4815078, 103.0300513, 132.7033837, 78.80248279],
        ['01/07/2017', 100.2500394, 101.1076133, 123.5601152, 76.34906506],
        ['02/07/2017', 104.4638675, 104.0944731, 129.5851332, 77.75919582],
        ['03/07/2017', 106.2293821, 106.4862036, 127.2948164, 77.9120474],
        ['04/07/2017', 108.7140725, 108.0469126, 122.975162, 76.33857524],
        ['05/07/2017', 109.7476273, 108.0614482, 120.9368251, 76.88224734],
        ['06/07/2017', 110.5669084, 108.3343024, 121.737761, 76.31819503],
        ['07/07/2017', 106.4949946, 104.6007276, 110.6866451, 71.77430715],
        ['08/07/2017', 110.7395196, 106.7885443, 113.2559395, 70.77148089],
        ['09/07/2017', 108.4248971, 104.5915909, 108.9542837, 69.95687188],
        ['10/07/2017', 102.1268346, 98.53314949, 96.90424766, 60.89037545],
        ['11/07/2017', 103.222773, 97.08914065, 88.82289417, 55.45185625],
        ['12/07/2017', 108.053956, 99.62456601, 103.8381929, 61.54643841],
        ['13/07/2017', 102.0084207, 97.92431517, 94.37095032, 60.18426108],
        ['14/07/2017', 98.52662979, 92.7512999, 89.83981281, 57.1751829],
        ['15/07/2017', 87.42603063, 83.01327309, 76.79085673, 51.12705563],
        ['16/07/2017', 84.03199315, 80.14602057, 70.80633549, 44.37371312],
        ['17/07/2017', 98.07832976, 92.54655548, 87.03203744, 53.3149312],
        ['18/07/2017', 102.8400767, 96.30380252, 105.4670626, 56.56047977],
        ['19/07/2017', 97.58818882, 94.41624998, 89.85781138, 50.46739616],
        ['20/07/2017', 124.3463683, 117.0157981, 102.2588193, 56.43370287],
        ['21/07/2017', 125.3146203, 110.7928967, 98.23164147, 54.72925789],
        ['22/07/2017', 130.0424007, 116.7051514, 103.2577394, 57.93974051],
        ['23/07/2017', 126.6613892, 113.3943552, 101.6693665, 58.46063472],
        ['24/07/2017', 126.8665543, 114.4101866, 101.1114111, 57.54472407],
        ['25/07/2017', 119.1611468, 107.0020101, 93.01205904, 53.37936863],
        ['26/07/2017', 116.6548791, 105.0488396, 91.77015839, 52.09601477],
        ['27/07/2017', 122.3153058, 110.9598485, 91.93664507, 51.98662099],
        ['28/07/2017', 131.3106892, 116.6590528, 86.89704824, 49.73280944],
        ['29/07/2017', 132.6465229, 113.2303105, 92.59809215, 50.91186458],
        ['30/07/2017', 130.0921687, 114.5065369, 89.08387329, 49.47655826],
        ['31/07/2017', 138.5082951, 119.4137582, 91.73416127, 50.16708776],
        ['01/08/2017', 132.3418125, 112.8901773, 102.0383369, 53.06437449],
        ['02/08/2017', 119.5289001, 112.5749622, 98.96958243, 51.8835211],
        ['03/08/2017', 122.1460941, 116.4813031, 101.3948884, 52.33278487],
        ['04/08/2017', 127.7228792, 120.267206, 100.3734701, 52.07233776],
        ['05/08/2017', 148.3779543, 135.0943569, 115.4202664, 55.36733831],
        ['06/08/2017', 149.7834654, 133.4759207, 117.6970842, 54.08068765],
        ['07/08/2017', 155.9514532, 140.3284217, 121.1213103, 53.65420177],
        ['08/08/2017', 158.1498155, 142.0311643, 133.5358171, 57.71975412],
        ['09/08/2017', 150.9158433, 138.8138113, 133.2028438, 54.83085924],
        ['10/08/2017', 152.225548, 140.4256026, 133.1398488, 54.06720075],
        ['11/08/2017', 165.8041512, 151.611376, 138.9758819, 53.73991854],
        ['12/08/2017', 178.8735859, 161.333206, 139.7588193, 52.10530575],
        ['13/08/2017', 192.338394, 169.1637457, 134.1162707, 50.3786823],
        ['14/08/2017', 210.5985514, 179.6239846, 135.0341973, 50.94782966],
        ['15/08/2017', 207.7888605, 173.6768444, 130.4085673, 48.31938188],
        ['16/08/2017', 217.3713621, 181.7627955, 136.0106192, 48.08261178],
        ['17/08/2017', 216.7459192, 179.8964234, 135.6461483, 47.20356534],
        ['18/08/2017', 205.7416303, 172.7918335, 133.0048596, 47.61866228],
        ['19/08/2017', 201.4243515, 174.1656561, 133.8507919, 46.47197571],
        ['20/08/2017', 194.7948531, 169.7617821, 135.6326494, 47.57430535],
        ['21/08/2017', 188.3744435, 166.193498, 144.7039237, 57.51954852],
        ['22/08/2017', 189.3513693, 170.2958619, 141.6441685, 71.71616361],
        ['23/08/2017', 189.8561608, 172.4139077, 142.8725702, 73.97626904],
        ['24/08/2017', 196.9650581, 180.020599, 146.512779, 65.62367941],
        ['25/08/2017', 203.8200682, 181.553898, 149.3520518, 65.28500826],
        ['26/08/2017', 202.4155464, 180.7565161, 150.2339813, 63.71123639],
        ['27/08/2017', 201.4530116, 182.0223599, 156.537977, 60.83942492],
        ['28/08/2017', 200.3676025, 182.0132233, 156.474982, 67.28706426],
        ['29/08/2017', 208.4119535, 190.1681147, 166.7881569, 65.50559407],
        ['30/08/2017', 210.9273709, 189.5983189, 170.3068754, 68.33544628],
        ['31/08/2017', 214.2745194, 195.3332392, 172.3542117, 76.61460722],
        ['01/09/2017', 221.7834543, 203.166686, 174.4690425, 74.47138828],
        ['02/09/2017', 208.683613, 190.1577321, 157.0284377, 67.93473537],
        ['03/09/2017', 211.6423622, 190.3317441, 156.3534917, 68.57671201],
        ['04/09/2017', 194.8262862, 175.9352626, 132.8158747, 61.43075074],
        ['05/09/2017', 208.1028809, 181.7586425, 140.8342333, 64.49407625],
        ['06/09/2017', 216.7027454, 190.9198133, 150.4409647, 67.78997593],
        ['07/09/2017', 214.2787051, 191.0344369, 148.2316415, 67.02691686],
        ['08/09/2017', 196.9675951, 175.6212934, 133.4143269, 63.39384458],
        ['09/09/2017', 198.0678594, 175.5095769, 132.4694024, 62.9373878],
        ['10/09/2017', 194.5159388, 171.2269714, 129.9271058, 63.84730427],
        ['11/09/2017', 195.8626651, 172.8188282, 132.5278978, 64.26989393],
        ['12/09/2017', 193.642593, 171.553815, 131.1465083, 62.72998918],
        ['13/09/2017', 182.8266926, 161.2451617, 124.6895248, 60.1749701],
        ['14/09/2017', 146.9198963, 131.0260478, 96.25179986, 49.20232454],
        ['15/09/2017', 174.1200759, 151.0673289, 112.6979842, 54.35462166]
    ]);

    var options = {
        chartArea: { top:25, bottom:100 },
        title: '',
        lineWidth: 1.5,
        legend: {
            textStyle: { color: '#FFF' }
        },
        backgroundColor: {
            fill: 'transparent'
        },
        hAxis: {
            titleTextStyle: {
                color: '#FFF',
                fontSize: 20
            },
            textStyle: {
                color: '#FFF'
            }
        },
        vAxis: {
            title: 'Crypto20 Value',
            minValue: 80,
            titleTextStyle: {
                color: '#FFF',
                fontSize: 20
            },
            textStyle: {
                color: '#FFF'
            },
            gridlines: {
                count: 10
            }
        },
        colors: ['#264D9A', 'orange', 'red', 'green'],
        seriesType: 'lines',
        series: {
            0: {
                type: 'area'
            }
        }
    };

    var chart = new google.visualization.ComboChart(document.getElementById('chart_div'));
    chart.draw(data, options);


    var columns = [];
    var series = {};
    for (var i = 0; i < data.getNumberOfColumns(); i++) {
        columns.push(i);
        if (i > 0) {
            series[i - 1] = {};
        }
    }

    google.visualization.events.addListener(chart, 'select', function () {
        var sel = chart.getSelection();
        // if selection length is 0, we deselected an element
        if (sel.length > 0) {
            // if row is undefined, we clicked on the legend
            if (sel[0].row === null) {
                var col = sel[0].column;
                if (columns[col] == col) {
                    // hide the data series
                    columns[col] = {
                        label: data.getColumnLabel(col),
                        type: data.getColumnType(col),
                        calc: function () {
                            return null;
                        }
                    };

                    // grey out the legend entry
                    series[col - 1].color = '#CCCCCC';
                } else {
                    // show the data series
                    columns[col] = col;
                    series[col - 1].color = null;
                }
                var view = new google.visualization.DataView(data);
                view.setColumns(columns);
                chart.draw(view, options);
            }
        }
    });

}